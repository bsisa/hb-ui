<div>
<table class="table table-condensed table-bordered table-striped">
	<thead>
		<tr>
			<th>
				<div class="col-sm-12" class="input-group">
					<div class="col-sm-12" >Montant de la commande 
						<button ng-show="!hasManualOrderLine" class="btn btn-xs btn-default" tooltip="Ajouter une ligne de commande"
							ng-click="addLine(0,elfinForm.$valid)">
							<i class="icon-plus-sign"></i>
						</button>
					</div>
				</div>
			</th>
		</tr>
	</thead>
	<tbody ng-show="ngModelCtrl.$modelValue.CARACTERISTIQUE.FRACTION.L.length > 0">
		<tr ng-repeat="line in ngModelCtrl.$modelValue.CARACTERISTIQUE.FRACTION.L"  ng-form="lineForm">	
			<td>
				<div class="form-group">
					<div class="col-sm-5">
						<div ng-if="line.C[0].VALUE === MANUAL_AMOUNT" class="input-group">
							<span class="input-group-btn">
								<button class="btn btn-default" tooltip="Ajouter"
									ng-click="addLine($index+1,elfinForm.$valid)">
									<i class="icon-plus-sign"></i>
								</button>								
								<button class="btn btn-default" tooltip="Supprimer"
									ng-click="removeLine($index,elfinForm.$valid)">
									<i class="icon-remove-sign"></i>
								</button>
							</span>
							<input ng-if="line.C[0].VALUE === MANUAL_AMOUNT" type="text" class="form-control" ng-model="line.C[1].VALUE" placeholder="Description..." />
						</div>
						<span ng-if="line.C[0].VALUE !== MANUAL_AMOUNT">{{line.C[1].VALUE}}</span>
					</div>
					<div class="col-sm-3">
						<div ng-if="line.C[5].VALUE === 'true' && line.C[3].VALUE.length > 0" class="input-group">
							<input type="text" name="orderLineRate" class="form-control" ng-model="line.C[2].VALUE" ng-pattern="numericOnlyRegexp" ng-trim='false' autocomplete="off">
							<span class="input-group-addon">{{line.C[3].VALUE}}</span>
						</div>
						<input ng-if="line.C[5].VALUE === 'true' && line.C[3].VALUE.length === 0" type="text" name="orderLineRate"  class="form-control" ng-model="line.C[2].VALUE"  ng-pattern="numericOnlyRegexp" ng-trim='false' autocomplete="off">
						<div ng-if="line.C[5].VALUE === 'false'" ></div>
					</div>
					<div class="col-sm-3 text-right">
						<input 
							ng-if="lineValueEditable(line)"
							name="orderLineAmount"
							type="text" 
							class="form-control" 
							style="text-align: right;padding-right:0px;" 
							ng-model="line.C[4].VALUE" 
							ng-pattern="numericOnlyRegexp" 
							ng-trim='false' 
							autocomplete="off"/>
<!-- 						<div ng-if="lineValueEditable(line)" class="input-group"> -->
<!-- 							<span class="input-group-btn"> -->
<!-- 								<button  -->
<!-- 									ng-show="lineForm.orderLineAmount.$dirty"  -->
<!-- 									class="btn btn-default"  -->
<!-- 									ng-click="updateOrderLines(elfinForm.$valid)"> -->
<!-- 									<i class="glyphicon glyphicon-save"></i> -->
<!-- 								</button>								 -->
<!-- 								<button  -->
<!-- 									ng-show="lineForm.orderLineAmount.$pristine"  -->
<!-- 									class="btn btn-default"> -->
<!-- 									<i class="glyphicon glyphicon-saved"></i> -->
<!-- 								</button> -->
<!-- 							</span> -->
<!-- 							<input  -->
<!-- 								name="orderLineAmount" -->
<!-- 								type="text"  -->
<!-- 								class="form-control"  -->
<!-- 								style="text-align: right;padding-right:0px;"  -->
<!-- 								ng-model="line.C[4].VALUE"  -->
<!-- 								ng-pattern="numericOnlyRegexp"  -->
<!-- 								ng-trim='false' > -->
<!-- 						</div> -->
						<div ng-if="!lineValueEditable(line)" >{{line.C[4].VALUE}}</div>
					</div>
					<div class="col-sm-12 text-danger" ng-show="lineForm.orderLineAmount.$error.pattern">Le montant doit être <strong>un nombre</strong> valide!</span></div>
					<div class="col-sm-12 text-danger" ng-show="lineForm.orderLineRate.$error.pattern">Le taux doit être <strong>un nombre</strong> valide!</span></div>
				</div>	
			</td>
		</tr>
	</table>
</div>