<div hb-card-header="hb-card-header"><span ng-show="elfinForm.constructionYear.$error.pattern">L'année de construction doit être <strong>un nombre</strong> à quatre positions!</span><span ng-show="elfinForm.constructionYear.$error.maxlength">L'année de construction doit être un nombre <strong>à quatre positions!</strong></span><span ng-show="elfinForm.exitYear.$error.pattern">L'année de sortie doit être <strong>un nombre</strong> à quatre positions!</span><span ng-show="elfinForm.exitYear.$error.maxlength">L'année de sortie doit être un nombre <strong>à quatre positions!</strong></span><span ng-show="elfinForm.ecapEstimYear.$error.pattern">L'année d'estimation ECAP doit être <strong>un nombre</strong> à quatre positions!</span><span ng-show="elfinForm.ecapEstimYear.$error.maxlength">L'année d'estimation ECAP doit être un nombre <strong>à quatre positions!</strong></span><span ng-show="elfinForm.ecapEstimYear.$error.pattern">L'année d'estimation ECAP doit être <strong>un nombre</strong> à quatre positions!</span><span ng-show="elfinForm.ecapEstimYear.$error.maxlength">L'année d'estimation ECAP doit être un nombre <strong>à quatre positions!</strong></span><span ng-show="elfinForm.cadastralEvaluationYear.$error.pattern">L'année d'estimation cadastrale doit être <strong>un nombre</strong> à quatre positions!</span><span ng-show="elfinForm.cadastralEvaluationYear.$error.maxlength">L'année d'estimation cadastrale doit être un nombre <strong>à quatre positions!</strong></span><span ng-show="elfinForm.ecapVolume.$error.pattern">Le volume ECAP doit être <strong>un nombre</strong>!</span><span ng-show="elfinForm.ecapVolume.$error.maxlength">Le volume ECAP doit être <strong>un nombre</strong>! (Max 12 positions)</span><!-- ecapVolumePrice Prix au m³ -->
<!-- ecapFee Prime ECAP TTC -->
<!-- ecapSelfInsuranceFnd   Fond auto assurance -->
<!-- ecapBuildingNb  Bâtiment assuré no -->
<!-- ecapObject Objet assuré -->
<!-- ecapConstructionRisk Classe risque construction -->
<!-- ecapUsageRisk Classe risque usage -->
<!-- ecapLightningRod  Paratonnerre -->
<!-- ecapFireDetection Détection incendie -->
<!-- ecapPeculiarities Particularités --><span ng-show="elfinForm.goal.$error.required">Le champ <strong>No de gérance</strong> est obligatoire!</span><span ng-show="elfinForm.author.$error.required">Le champ <strong>No ECAP</strong> est obligatoire!</span><span ng-show="elfinForm.nom.$error.required">Le champ <strong>No de construction</strong> est obligatoire!</span><span ng-show="elfinForm.address.$error.required">Le champ <strong>Adresse</strong> est obligatoire!</span><span ng-show="elfinForm.cadastralNb.$error.required">Le champ <strong>No cadastral</strong> est obligatoire!</span><span ng-show="elfinForm.manager.$error.required">Le champ <strong>Propriétaire</strong> est obligatoire!</span><span ng-show="elfinForm.managerName.$error.required">Le champ <strong>Nom du propriétaire</strong> est obligatoire!</span><span ng-show="elfinForm.alias.$error.required">Le champ <strong>Architecte</strong> est obligatoire!</span></div><!-- Short IMMEUBLE summary intended for display side by side with a map -->
<!-- Note: Using ng-show instead of ng-if leads to validation problems --><div class="row summary" ng-if="isMapToggled() &amp;&amp; mapDisplayType === 'SPLIT'"><div class="form-group has-feedback" ng-class="getCssHasFeedback(elfinForm.goal)"><label class="control-label" for="goal" style="text-align:left;">No de gérance</label><div><input class="form-control" id="goal" name="goal" type="text" ng-model="elfin.IDENTIFIANT.OBJECTIF" ng-readonly="!canEdit" required="required"/></div></div><div class="form-group has-feedback" ng-class="getCssHasFeedback(elfinForm.noAbaImmo)"><label class="control-label" for="noAbaImmo">No AbaImmo</label><div><input class="form-control" id="noAbaImmo" name="noAbaImmo" type="text" ng-model="CARSET_CAR_POS_2.VALEUR" ng-readonly="!canEdit"/></div></div><div class="form-group has-feedback" ng-class="getCssHasFeedback(elfinForm.author)"><label class="control-label" for="author">No ECAP</label><div><input class="form-control" id="author" name="author" type="text" ng-model="CARSET_CAR_POS_3.VALEUR" ng-readonly="!canEdit" required="required"/></div></div><div class="form-group has-feedback" ng-class="getCssHasFeedback(elfinForm.nom)"><label class="control-label" for="nom_immeuble">No de constr.</label><div><input class="form-control" id="nom_immeuble" name="nom_immeuble" type="text" ng-model="elfin.IDENTIFIANT.NOM" ng-readonly="!canEdit" required="required"/></div></div><div class="form-group has-feedback" ng-class="getCssHasFeedback(elfinForm.address)"><label class="control-label" for="address_immeuble">Adresse</label><div><input class="form-control" id="address_immeuble" name="address_immeuble" type="text" ng-model="elfin.IDENTIFIANT.ALIAS" ng-readonly="!canEdit" required="required"/></div></div><div class="form-group has-feedback" ng-class="getCssHasFeedback(elfinForm.cadastralNb)"><label class="control-label" for="cadastralNb_immeuble">No cadastral</label><div><input class="form-control" id="cadastralNb_immeuble" name="cadastralNb_immeuble" type="text" ng-model="elfin.CARACTERISTIQUE.CAR4.VALEUR" ng-readonly="!canEdit" required="required"/></div></div><div class="form-group has-feedback" ng-class="getCssHasFeedback(elfinForm.manager)"><label class="control-label" for="manager">Propriétaire</label><div><div id="manager" hb-choose-actor="hb-choose-actor" hb-choose-actor-id-name="manager" hb-choose-actor-elfin-form="elfinForm" hb-choose-actor-model="elfin.PARTENAIRE.PROPRIETAIRE" hb-choose-actor-tooltip="Recherche de propriétaire" hb-choose-actor-role="Propriétaire" hb-choose-actor-editable="{{canEdit}}"></div></div></div><div class="form-group has-feedback" ng-class="getCssHasFeedback(elfinForm.alias)"><label class="control-label" for="alias">Architecte</label><div><input class="form-control" id="alias" name="alias" type="text" ng-model="elfin.PARTENAIRE.FOURNISSEUR.VALUE" ng-readonly="!canEdit" required="required"/></div></div><div class="form-group" ng-repeat="otherPartnerLine in elfin.CARACTERISTIQUE.FRACTION.L"><!-- Provides converted.actor --><div hb-actor-line-converter="hb-actor-line-converter" hb-actor-line-converter-line-model="otherPartnerLine" hb-actor-line-converter-actor-model="convertedActor" hb-actor-line-converter-actor-role="actorRole"><label class="control-label" for="otherPartner-{{$index}}">{{convertedActorElfin.IDENTIFIANT.QUALITE}}</label><div><div id="otherPartner-{{$index}}" hb-choose-actor="hb-choose-actor" hb-choose-actor-id-name="otherPartner-{{$index}}" hb-choose-actor-elfin-form="elfinForm" hb-choose-actor-model="convertedActor" hb-choose-actor-elfin-model="convertedActorElfin" hb-choose-actor-tooltip="Recherche de partenaire" hb-choose-actor-role="!Entreprise,!Collaborateur,!Propriétaire" hb-choose-actor-editable="{{canEditParteners}}"></div></div><div><p class="form-control-static" id="telCellphone-{{$index}}">{{convertedActorElfin.CARACTERISTIQUE.CARSET.CAR[0].VALEUR}}<span ng-if="convertedActorElfin.CARACTERISTIQUE.CARSET.CAR[0].VALEUR.length &gt; 0 &amp;&amp; convertedActorElfin.CARACTERISTIQUE.CAR4.VALEUR.length &gt; 0">&nbsp;/&nbsp;</span>{{convertedActorElfin.CARACTERISTIQUE.CAR4.VALEUR}}</p></div></div></div><div class="form-group has-feedback" ng-class="getCssHasFeedback(elfinForm.locality)"><label class="control-label" for="locality_immeuble">Lieu-dit</label><div><input class="form-control" id="locality_immeuble" name="locality_immeuble" type="text" ng-model="CARSET_CAR_POS_1.VALEUR" ng-readonly="!canEdit"/></div></div><div class="form-group has-feedback" ng-class="getCssHasFeedback(elfinForm.remark)"><label class="control-label" for="remark_immeuble">Remarques</label><div><textarea class="form-control" id="remark_immeuble" name="remark_immeuble" type="text" ng-model="elfin.DIVERS.REMARQUE" ng-readonly="!canEdit" rows="4"></textarea></div></div></div><div class="row" ng-show="!isMapToggled()" style="padding-top: 8px;"><div class="col-xs-12"><tabset><tab active="tabState.immeuble.active"><tab-heading>Immeuble</tab-heading><!-- 1st tab 1st row --><div class="hb-tab"><!-- 1st col first tab first row start --><div class="row"><div class="col-lg-4 col-xs-12"><div class="form-group has-feedback" ng-class="getCssHasFeedback(elfinForm.goal)"><label class="col-lg-3 col-md-2 control-label" for="goal_2">No de gérance</label><div class="col-lg-9 col-md-10"><input class="form-control" id="goal_2" name="goal_2" type="text" ng-model="elfin.IDENTIFIANT.OBJECTIF" ng-readonly="!canEdit" required="required"/></div></div><div class="form-group has-feedback" ng-class="getCssHasFeedback(elfinForm.noAbaImmo_2)"><label class="col-lg-3 col-md-2 control-label" for="noAbaImmo_2">No AbaImmo</label><div class="col-lg-9 col-md-10"><input class="form-control" id="noAbaImmo_2" name="noAbaImmo_2" type="text" ng-model="CARSET_CAR_POS_2.VALEUR" ng-readonly="!canEdit"/></div></div><div class="form-group has-feedback" ng-class="getCssHasFeedback(elfinForm.author)"><label class="col-lg-3 col-md-2 control-label" for="author_2">No ECAP</label><div class="col-lg-9 col-md-10"><input class="form-control" id="author_2" name="author_2" type="text" ng-model="CARSET_CAR_POS_3.VALEUR" ng-readonly="!canEdit" required="required"/></div></div><div class="form-group has-feedback" ng-class="getCssHasFeedback(elfinForm.nom)"><label class="col-lg-3 col-md-2 control-label" for="nom">No de constr.</label><div class="col-lg-9 col-md-10"><input class="form-control" id="nom" name="nom" type="text" ng-model="elfin.IDENTIFIANT.NOM" ng-readonly="!canEdit" required="required"/></div></div><div class="form-group has-feedback" ng-class="getCssHasFeedback(elfinForm.address)"><label class="col-lg-3 col-md-2 control-label" for="address">Adresse</label><div class="col-lg-9 col-md-10"><input class="form-control" id="address" name="address" type="text" ng-model="elfin.IDENTIFIANT.ALIAS" ng-readonly="!canEdit" required="required"/></div></div><div class="form-group has-feedback" ng-class="getCssHasFeedback(elfinForm.cadastralNb)"><label class="col-lg-3 col-md-2 control-label" for="cadastralNb">No cadastral</label><div class="col-lg-9 col-md-10"><input class="form-control" id="cadastralNb" name="cadastralNb" type="text" ng-model="elfin.CARACTERISTIQUE.CAR4.VALEUR" ng-readonly="!canEdit" required="required"/></div></div></div><!-- 2nd col first tab first row start --><div class="col-lg-4 col-xs-12" style="text-align: center; height: 100%;"><div class="form-group"></div><!-- Display current year PRESTATION `Groupe comptable` information --><div class="col-sm-12 form-control-static"><div class="btn btn-default btn-xs"><a target="_self" ng-href="file:///{{annexeFileSystemUri}}"><i class="glyphicon glyphicon-hdd"></i></a></div>{{(prestations | prestationListFilter:currentYearAndFormerPrestationSearch | orderBy:prestaPredicate:prestaReverse | first).IDENTIFIANT.ORIGINE}}</div><!-- If no photo is available show upload function while using room left empty with fixed size table. --><table ng-if="!photoSrc" style="border: solid 4px #F0F0F0; width: 180px; height: 198px; margin: 0 auto;"><tr><td style="vertical-align: middle; text-align: center;"><i class="glyphicon glyphicon-upload" style="font-size: 4em;"></i></td></tr></table><!-- If a photo is available show it forcing width ratio. --><div ng-if="photoSrc"><a href="{{photoSrc}}" data-lightbox="image-1"><img class="img-thumbnail" ng-src="{{photoSrc}}" width="180px"/></a></div><p><div ng-if="canEdit" hb-annexes-upload="hb-annexes-upload" hb-annexes-upload-annex-type="photo"></div></p></div><!-- 2nd col first tab first row end -->
<!-- 3rd col first tab first row start --><div class="col-lg-4 col-xs-12"><div class="form-group has-feedback" ng-class="getCssHasFeedback(elfinForm.manager)"><label class="col-lg-3 col-md-2 control-label" for="manager">Propriétaire</label><div class="col-lg-1 visible-lg-block"></div><div class="col-lg-8 col-md-10"><div hb-choose-actor="hb-choose-actor" hb-choose-actor-id-name="manager" hb-choose-actor-elfin-form="elfinForm" hb-choose-actor-model="elfin.PARTENAIRE.PROPRIETAIRE" hb-choose-actor-tooltip="Recherche de propriétaire" hb-choose-actor-role="Propriétaire" hb-choose-actor-editable="{{canEdit}}"></div></div></div><div class="form-group has-feedback" ng-class="getCssHasFeedback(elfinForm.alias)"><label class="col-lg-3 col-md-2 control-label" for="alias_2">Architecte</label><div class="col-lg-1 visible-lg-block"></div><div class="col-lg-8 col-md-10"><input class="form-control" id="alias_2" name="alias" type="text" ng-model="elfin.PARTENAIRE.FOURNISSEUR.VALUE" ng-readonly="!canEdit" required="required"/></div></div><div class="form-group has-feedback" ng-class="getCssHasFeedback(elfinForm.otherPartner-{{$index}})" ng-repeat="otherPartnerLine in elfin.CARACTERISTIQUE.FRACTION.L"><!-- Provides converted.actor --><div hb-actor-line-converter="hb-actor-line-converter" hb-actor-line-converter-line-model="otherPartnerLine" hb-actor-line-converter-actor-model="convertedActor" hb-actor-line-converter-actor-role="actorRole"><label class="col-lg-3 col-md-2 control-label" for="otherPartner_2-{{$index}}">{{convertedActorElfin.IDENTIFIANT.QUALITE}}</label><div class="col-lg-1 visible-lg-block" ng-if="!canEditParteners"></div><div class="col-md-1 btn btn-default" ng-if="canEditParteners" ng-click="removeOtherPartner($index)" tooltip="Supprimer le partenaire"><i class="glyphicon glyphicon-remove-circle"></i></div><div class="col-lg-8 col-md-9"><div id="otherPartner_2-{{$index}}" hb-choose-actor="hb-choose-actor" hb-choose-actor-id-name="otherPartner-{{$index}}" hb-choose-actor-elfin-form="elfinForm" hb-choose-actor-model="convertedActor" hb-choose-actor-elfin-model="convertedActorElfin" hb-choose-actor-tooltip="Recherche de partenaire" hb-choose-actor-role="!Entreprise,!Collaborateur,!Propriétaire" hb-choose-actor-editable="{{canEditParteners}}"></div></div><div class="col-lg-offset-4 col-lg-8 col-md-offset-3 col-md-9"><p class="form-control-static" id="telCellphone_2-{{$index}}">{{convertedActorElfin.CARACTERISTIQUE.CARSET.CAR[0].VALEUR}}<span ng-if="convertedActorElfin.CARACTERISTIQUE.CARSET.CAR[0].VALEUR.length &gt; 0 &amp;&amp; convertedActorElfin.CARACTERISTIQUE.CAR4.VALEUR.length &gt; 0">&nbsp;/&nbsp;</span>{{convertedActorElfin.CARACTERISTIQUE.CAR4.VALEUR}}</p></div></div></div><div class="col-lg-offset-4 col-lg-8 col-md-offset-3 col-md-9" ng-if="canEditParteners"><div class="input-group"><span class="input-group-btn" tooltip="Ajouter un nouveau partenaire, responsable chauffage, concierge..."><a class="btn btn-default" type="button" ng-click="addOtherPartner()"><i class="glyphicon glyphicon-plus-sign"></i>&nbsp;Ajouter un partenaire</a></span></div></div></div><!-- 3rd col first tab first row end --></div><!-- row end -->
<!-- Provide some spacing --><div style="margin: 0px; line-height: 0.5em;"><br/></div><!-- 2e bloc --><div class="row"><div class="col-xs-12"><div class="form-group has-feedback" ng-class="getCssHasFeedback(elfinForm.locality)"><label class="col-md-1 control-label" for="locality_2">Lieu-dit</label><div class="col-md-11"><input class="form-control" id="locality_2" name="locality_2" type="text" ng-model="CARSET_CAR_POS_1.VALEUR" ng-readonly="!canEdit"/></div></div></div><div class="col-xs-12"><div class="form-group has-feedback" ng-class="getCssHasFeedback(elfinForm.remark)"><label class="col-md-1 control-label" for="remark_2">Remarque</label><div class="col-md-11"><textarea class="form-control" id="remark_2" name="remark_2" type="text" ng-model="elfin.DIVERS.REMARQUE" ng-readonly="!canEdit" rows="4"></textarea></div></div></div></div><!-- 3e bloc -->
<!-- Keywords are currently unused. -->
<!-- 4e bloc -->
<!-- Constats en cours tab --><tabset><tab><tab-heading>Constats en cours</tab-heading><div class="hb-tab"><div class="row"><div class="col-sm-12" ng-show="constatsEncours"><table class="table table-condensed table-bordered table-striped"><thead><tr><th>Constat</th><th>Etage-Locataire</th><th>Libellé</th><th>Montant</th><th>Delai</th><th>Resp</th><th>Filiation</th></tr></thead><tbody><tr ng-repeat="constat in constatsEncours | orderBy:'IDENTIFIANT.DE':true"><td><div hb-card-view-link="hb-card-view-link" hb-href="/elfin/{{constat.ID_G}}/CONSTAT/{{constat.Id}}"></div></td><td><span>{{constat.PARTENAIRE.USAGER.VALUE}}</span></td><td><span>{{constat.IDENTIFIANT.NOM}}</span></td><td class="number"><span>{{constat.ACTIVITE.EVENEMENT.ECHEANCE[constat.ACTIVITE.EVENEMENT.ECHEANCE.length-1].E_PAR_QUI | currency:'CHF' }}</span></td><td class="date"><span>{{constat.ACTIVITE.EVENEMENT.ECHEANCE[constat.ACTIVITE.EVENEMENT.ECHEANCE.length-1].E_DATE | date }}</span></td><td><span>{{constat.ACTIVITE.EVENEMENT.ECHEANCE[constat.ACTIVITE.EVENEMENT.ECHEANCE.length-1].POUR_QUI}}</span></td><td><span>{{constat.FILIATION.PARENT[constat.FILIATION.PARENT.length-1].Id}}</span></td></tr></tbody></table></div></div></div></tab><tab><tab-heading>Constats traités</tab-heading><div class="hb-tab"><div class="row"><div class="col-sm-12" ng-show="constatsClos"><table class="table table-condensed table-bordered table-striped"><thead><tr><th>Constat</th><th>Etage-Locataire</th><th>Libellé</th><th>Montant</th><th>Annoncé le</th><th>Traité le</th><th>Filiation</th></tr></thead><tbody><tr ng-repeat="constat in constatsClos | orderBy:'IDENTIFIANT.DE':true"><td><div hb-card-view-link="hb-card-view-link" hb-href="/elfin/{{constat.ID_G}}/CONSTAT/{{constat.Id}}"></div></td><td><span>{{constat.PARTENAIRE.USAGER.VALUE}}</span></td><td><span>{{constat.IDENTIFIANT.NOM}}</span></td><td class="number"><span>{{constat.ACTIVITE.EVENEMENT.ECHEANCE[constat.ACTIVITE.EVENEMENT.ECHEANCE.length-1].E_PAR_QUI | currency:'CHF' }}</span></td><td class="date"><span>{{constat.IDENTIFIANT.DE | date}}</span></td><td class="date"><span>{{constat.IDENTIFIANT.A | date}}</span></td><td><span>{{constat.FILIATION.PARENT[constat.FILIATION.PARENT.length-1].Id}}</span></td></tr></tbody></table></div></div></div></tab><tab select="createNewConstat()" ng-show="!createMode"><tab-heading tooltip="Créer un nouveau constat relatif à l'objet courant" tooltip-popup-delay="1000">Créer un nouveau constat&nbsp;<i class="glyphicon glyphicon-plus-sign"></i></tab-heading><div class="hb-tab"></div></tab></tabset></div></tab><!-- SURFACE tab --><tab active="tabState.unite_locative.active"><tab-heading>Unités locatives ({{locationUnits.length}})</tab-heading><div class="hb-tab"><div class="row"><div class="col-sm-12"><tabset><!-- UNITE_LOCATIVE 1st sub tab --><tab active="tabState.unite_locative_subtab_current.active"><tab-heading>Unités locatives courantes</tab-heading><div class="hb-tab"><div class="row"><div class="col-sm-12"><!-- Table des unités locatives actives --><table class="table table-condensed table-bordered table-striped"><thead><tr><th>Unité locative</th><th><a href="" ng-click="locUnitPredicate = 'IDENTIFIANT.OBJECTIF'; locUnitReverse=!locUnitReverse">No SAI</a></th><th><a href="" ng-click="locUnitPredicate = 'GROUPE'; locUnitReverse=!locUnitReverse">Groupe</a></th><th><a href="" ng-click="locUnitPredicate = 'PARTENAIRE.USAGER.VALUE'; locUnitReverse=!locUnitReverse">Locataire</a></th><th><a href="" ng-click="locUnitPredicate = 'CARACTERISTIQUE.CAR1.VALEUR'; locUnitReverse=!locUnitReverse">Surface (m2)</a></th><th><a href="" ng-click="locUnitPredicate = 'DIVERS.REMARQUE'; locUnitReverse=!locUnitReverse">Remarque</a></th></tr></thead><tbody ng-show="locationUnits"><tr ng-repeat="locationUnit in locationUnits | orderBy:locUnitPredicate:locUnitReverse"><td><div hb-card-view-link="hb-card-view-link" hb-href="/elfin/{{locationUnit.ID_G}}/SURFACE/{{locationUnit.Id}}"></div></td><td><span>{{locationUnit.IDENTIFIANT.OBJECTIF}}</span></td><td><span>{{locationUnit.GROUPE}}</span></td><td><span>{{locationUnit.PARTENAIRE.USAGER.VALUE}}</span></td><td class="number"><span>{{locationUnit.CARACTERISTIQUE.CAR1.VALEUR}}</span></td><td><span>{{locationUnit.DIVERS.REMARQUE}}</span></td></tr></tbody></table></div></div></div></tab><!-- UNITE_LOCATIVE 2nd sub tab --><tab active="tabState.unite_locative_subtab_archived.active"><tab-heading>Unités locatives archivées</tab-heading><div class="hb-tab"><div class="row"><div class="col-sm-12"><!-- Table des unités locatives archived --><table class="table table-condensed table-bordered table-striped"><thead><tr><th>Unité locative</th><th><a href="" ng-click="locUnitArchivedPredicate = 'IDENTIFIANT.OBJECTIF'; locUnitArchivedReverse=!locUnitArchivedReverse">No SAI</a></th><th><a href="" ng-click="locUnitArchivedPredicate = 'GROUPE'; locUnitArchivedReverse=!locUnitArchivedReverse">Groupe</a></th><th><a href="" ng-click="locUnitArchivedPredicate = 'PARTENAIRE.USAGER.VALUE'; locUnitArchivedReverse=!locUnitArchivedReverse">Locataire</a></th><th><a href="" ng-click="locUnitArchivedPredicate = 'CARACTERISTIQUE.CAR1.VALEUR'; locUnitArchivedReverse=!locUnitArchivedReverse">Surface (m2)</a></th><th><a href="" ng-click="locUnitArchivedPredicate = 'DIVERS.REMARQUE'; locUnitArchivedReverse=!locUnitArchivedReverse">Remarque</a></th></tr></thead><tbody ng-show="locationUnits"><tr ng-repeat="locationUnit in locationUnitsArchived | orderBy:locUnitArchivedPredicate:locUnitArchivedReverse"><td><div hb-card-view-link="hb-card-view-link" hb-href="/elfin/{{locationUnit.ID_G}}/SURFACE/{{locationUnit.Id}}"></div></td><td><span>{{locationUnit.IDENTIFIANT.OBJECTIF}}</span></td><td><span>{{locationUnit.GROUPE}}</span></td><td><span>{{locationUnit.PARTENAIRE.USAGER.VALUE}}</span></td><td class="number"><span>{{locationUnit.CARACTERISTIQUE.CAR1.VALEUR}}</span></td><td><span>{{locationUnit.DIVERS.REMARQUE}}</span></td></tr></tbody></table></div></div></div></tab><tab select="createNewUniteLocative()" ng-show="!createMode"><tab-heading tooltip="Créer une nouvelle unité locative relative à l'objet courant" tooltip-popup-delay="1000">Créer une nouvelle unité locative&nbsp;<i class="glyphicon glyphicon-plus-sign"></i></tab-heading><div class="hb-tab"></div></tab></tabset></div></div></div></tab><!-- PRESTATION tab --><tab active="tabState.prestation.active"><tab-heading>Prestations({{prestations.length}})</tab-heading><div class="hb-tab"><div class="row"><div class="col-sm-12"><tabset><!-- PRESTATION 1st tab --><tab active="tabState.prestation_subtab_annee_moins1.active"><tab-heading>Prestations en cours, année-1</tab-heading><div class="hb-tab"><div class="row"><div class="col-sm-12"><table class="table table-condensed table-bordered table-striped"><thead><tr><th>Prestation</th><th>No SAI</th><th>Année</th><th>Groupe / Remarque</th><th>Groupe comptable</th><th>Budget</th><th>Dépenses</th></tr></thead><tbody ng-show="prestations"><tr ng-repeat="prestation in prestations | prestationListFilter:currentYearAndFormerPrestationSearch | orderBy:prestaPredicate"><td><div hb-card-view-link="hb-card-view-link" hb-href="/elfin/{{prestation.ID_G}}/PRESTATION/{{prestation.Id}}"></div></td><td><span>{{prestation.IDENTIFIANT.OBJECTIF}}</span></td><td class="date"><span>{{prestation.IDENTIFIANT.DE}}</span></td><td ng-class="{invst: prestation.GROUPE === 'Investissement',fctmt: prestation.GROUPE === 'Fonctionnement'}"><span>{{prestation.GROUPE}} / {{prestation.DIVERS.REMARQUE}}</span></td><td><span>{{prestation.IDENTIFIANT.ORIGINE}}</span></td><td class="number"><span>{{prestation.IDENTIFIANT.VALEUR_A_NEUF | currency:'CHF' }}</span></td><td class="number"><span>{{transactions | filter:{ IDENTIFIANT_OBJECTIF : prestation.IDENTIFIANT.OBJECTIF }:true | map: 'IDENTIFIANT.VALEUR' | sum  | currency:'CHF' }}</span></td></tr></tbody></table></div></div></div></tab><!-- PRESTATION 1st tab --><tab active="tabState.prestation_subtab_annee_plus1.active"><tab-heading>Prestations année+1</tab-heading><div class="hb-tab"><div class="row"><div class="col-sm-12"><table class="table table-condensed table-bordered table-striped"><thead><tr><th>Prestation</th><th>No SAI</th><th>Année</th><th>Groupe / Remarque</th><th>Groupe comptable</th><th>Budget</th><th></th></tr></thead><tbody><tr ng-repeat="prestation in prestations | prestationListFilter:nextYearPrestationSearch | orderBy:prestaPredicate"><td><div hb-card-view-link="hb-card-view-link" hb-href="/elfin/{{prestation.ID_G}}/PRESTATION/{{prestation.Id}}"></div></td><td><span>{{prestation.IDENTIFIANT.OBJECTIF}}</span></td><td class="date"><span>{{prestation.IDENTIFIANT.DE}}</span></td><td ng-class="{invst: prestation.GROUPE === 'Investissement',fctmt: prestation.GROUPE === 'Fonctionnement'}"><span>{{prestation.GROUPE}} / {{prestation.DIVERS.REMARQUE}}</span></td><td><span>{{prestation.IDENTIFIANT.ORIGINE}}</span></td><td class="number"><span>{{prestation.IDENTIFIANT.VALEUR_A_NEUF | currency:'CHF' }}</span></td></tr></tbody></table></div></div></div></tab><!-- PRESTATION 1st tab --><tab active="tabState.prestation_subtab_annee_toutes.active"><tab-heading>Prestations toutes</tab-heading><div class="hb-tab"><div class="row"><div class="col-sm-12"><table class="table table-condensed table-bordered table-striped"><thead><tr><th>Prestation</th><th>No SAI</th><th>Année</th><th>Groupe / Remarque</th><th>Groupe comptable</th><th>Budget</th></tr></thead><tbody ng-show="prestations"><tr ng-repeat="prestation in prestations | orderBy:prestaPredicate"><td><div hb-card-view-link="hb-card-view-link" hb-href="/elfin/{{prestation.ID_G}}/PRESTATION/{{prestation.Id}}"></div></td><td><span>{{prestation.IDENTIFIANT.OBJECTIF}}</span></td><td class="date"><span>{{prestation.IDENTIFIANT.DE}}</span></td><td ng-class="{invst: prestation.GROUPE === 'Investissement',fctmt: prestation.GROUPE === 'Fonctionnement'}"><span>{{prestation.GROUPE}} / {{prestation.DIVERS.REMARQUE}}</span></td><td><span>{{prestation.IDENTIFIANT.ORIGINE}}</span></td><td class="number"><span>{{prestation.IDENTIFIANT.VALEUR_A_NEUF | currency:'CHF' }}</span></td></tr></tbody></table></div></div></div></tab><tab select="createNewPrestation()" ng-show="!createMode"><tab-heading tooltip="Créer une nouvelle prestation relative à l'objet courant" tooltip-popup-delay="1000">Créer une nouvelle prestation&nbsp;<i class="glyphicon glyphicon-plus-sign"></i></tab-heading><div class="hb-tab"></div></tab></tabset></div><!-- Prestation 12 col div END --></div><!-- Prestation 1st level row div END --></div><!-- Prestation 1st level hb-tab container END --></tab><!-- COMMANDE tab --><tab ng-if="canManageOrders" active="tabState.commande.active"><tab-heading>Commandes ({{commandes.length}})</tab-heading><div class="hb-tab"><div class="row"><div class="col-sm-12"><tabset><!-- COMMANDES 1st sub tab --><tab active="tabState.commande_subtab_ouvertes.active"><tab-heading>Commandes</tab-heading><div class="hb-tab"><div class="row"><div class="col-sm-12"><!-- Table des commandes ouvertes --><table class="table table-condensed table-bordered table-striped"><thead><tr><th colspan="2">Commande</th><th class="col-sm-2">N° commande</th><th class="col-sm-1">Code CFC</th><th class="col-sm-1">Date</th><th class="col-sm-2">Montant</th><th class="col-sm-4">Fournisseur</th></tr></thead><tbody ng-show="commandes"><tr ng-repeat="commande in commandes" ng-init="totalRes = hbUtil.getOrderTotalNetInclTaxes(commande)"><td><div hb-card-view-link="hb-card-view-link" hb-href="/elfin/{{commande.ID_G}}/COMMANDE/{{commande.Id}}"></div></td><td><div hb-annexes-link="hb-annexes-link" hb-annexes-link-elfin="commande"></div></td><td class="number">{{commande.IDENTIFIANT.NOM}}</td><td>{{commande.GROUPE}}</td><td class="date">{{commande.IDENTIFIANT.DE}}</td><td class="number" ng-show="totalRes.exists">{{totalRes.value | currency:'CHF'}}</td><td class="number" ng-show="!totalRes.exists">-</td><td>{{commande.PARTENAIRE.FOURNISSEUR.GROUPE}}</td></tr></tbody></table></div></div></div></tab><!-- COMMANDES 2nd sub tab -->
<!-- COMMANDES 3rd sub tab --><tab select="createNewCommande()" ng-show="!createMode"><tab-heading tooltip="Créer une nouvelle commande relative à l'objet courant" tooltip-popup-delay="1000">Créer une nouvelle commande&nbsp;<i class="glyphicon glyphicon-plus-sign"></i></tab-heading><div class="hb-tab"></div></tab></tabset></div></div></div></tab><!-- CONTRAT tab --><tab active="tabState.contrat.active"><tab-heading>Contrats ({{contrats.length}})</tab-heading><div class="hb-tab"><div class="row"><div class="col-sm-12"><tabset><!-- CONTRAT 1st sub tab --><tab active="tabState.contrat_subtab_actifs.active"><tab-heading>Contrats actifs</tab-heading><div class="hb-tab"><div class="row"><div class="col-sm-12"><table class="table table-condensed table-bordered table-striped"><thead><tr><th colspan="2">Contrat</th><th><a href="" ng-click="contractPredicate = 'CARACTERISTIQUE.CAR1.UNITE'; contractReverse=!contractReverse">Prestation I</a></th><th><a href="" ng-click="contractPredicate = 'CARACTERISTIQUE.CAR1.VALEUR'; contractReverse=!contractReverse">Prestation II</a></th><th><a href="" ng-click="contractPredicate = 'PARTENAIRE.FOURNISSEUR.VALUE'; contractReverse=!contractReverse">Entreprise</a></th><th><a href="" ng-click="contractPredicate = 'IDENTIFIANT.VALEUR'; contractReverse=!contractReverse">Montant</a></th><th><a href="" ng-click="contractPredicate = 'GROUPE'; contractReverse=!contractReverse">Groupe</a></th></tr></thead><tbody ng-show="contrats"><tr ng-repeat="contrat in contrats | contractTerminatedListFilter:false | orderBy:contractPredicate:contractReverse"><td><div hb-card-view-link="hb-card-view-link" hb-href="/elfin/{{contrat.ID_G}}/CONTRAT/{{contrat.Id}}"></div></td><td><div hb-annexes-link="hb-annexes-link" hb-annexes-link-elfin="contrat"></div></td><td><span>{{contrat.CARACTERISTIQUE.CAR1.UNITE}}</span></td><td><span>{{contrat.CARACTERISTIQUE.CAR1.VALEUR}}</span></td><td><span>{{contrat.PARTENAIRE.FOURNISSEUR.VALUE}}</span></td><td class="number"><span>{{contrat.IDENTIFIANT.VALEUR | currency:'CHF' }}</span></td><td><span>{{contrat.GROUPE}}</span></td></tr></tbody></table></div></div></div></tab><!-- CONTRAT 2nd sub tab --><tab active="tabState.contrat_subtab_denonces.active"><tab-heading>Contrats dénoncés</tab-heading><div class="hb-tab"><div class="row"><div class="col-sm-12"><!-- Table des contrats dénoncés --><table class="table table-condensed table-bordered table-striped"><thead><tr><th colspan="2">Contrat</th><th><a href="" ng-click="contractPredicate = 'CARACTERISTIQUE.CAR1.UNITE'; contractReverse=!contractReverse">Prestation I</a></th><th><a href="" ng-click="contractPredicate = 'CARACTERISTIQUE.CAR1.VALEUR'; contractReverse=!contractReverse">Prestation II</a></th><th><a href="" ng-click="contractPredicate = 'PARTENAIRE.FOURNISSEUR.VALUE'; contractReverse=!contractReverse">Entreprise</a></th><th><a href="" ng-click="contractPredicate = 'IDENTIFIANT.VALEUR'; contractReverse=!contractReverse">Montant</a></th><th><a href="" ng-click="contractPredicate = 'GROUPE'; contractReverse=!contractReverse">Groupe</a></th></tr></thead><tbody ng-show="contrats"><tr ng-repeat="contrat in contrats | contractTerminatedListFilter:true | orderBy:contractPredicate:contractReverse"><td><div hb-card-view-link="hb-card-view-link" hb-href="/elfin/{{contrat.ID_G}}/CONTRAT/{{contrat.Id}}"></div></td><td><div hb-annexes-link="hb-annexes-link" hb-annexes-link-elfin="contrat"></div></td><td><span>{{contrat.CARACTERISTIQUE.CAR1.UNITE}}</span></td><td><span>{{contrat.CARACTERISTIQUE.CAR1.VALEUR}}</span></td><td><span>{{contrat.PARTENAIRE.FOURNISSEUR.VALUE}}</span></td><td class="number"><span>{{contrat.IDENTIFIANT.VALEUR | currency:'CHF' }}</span></td><td><span>{{contrat.GROUPE}}</span></td></tr></tbody></table></div></div></div></tab><!-- CONTRAT 3rd sub tab --><tab active="tabState.contrat_subtab_tous.active"><tab-heading>Contrats tous</tab-heading><div class="hb-tab"><div class="row"><div class="col-sm-12"><!-- Table des contrats dénoncés --><table class="table table-condensed table-bordered table-striped"><thead><tr><th colspan="2">Contrat</th><th><a href="" ng-click="contractPredicate = 'CARACTERISTIQUE.CAR1.UNITE'; contractReverse=!contractReverse">Prestation I</a></th><th><a href="" ng-click="contractPredicate = 'CARACTERISTIQUE.CAR1.VALEUR'; contractReverse=!contractReverse">Prestation II</a></th><th><a href="" ng-click="contractPredicate = 'PARTENAIRE.FOURNISSEUR.VALUE'; contractReverse=!contractReverse">Entreprise</a></th><th><a href="" ng-click="contractPredicate = 'IDENTIFIANT.VALEUR'; contractReverse=!contractReverse">Montant</a></th><th><a href="" ng-click="contractPredicate = 'GROUPE'; contractReverse=!contractReverse">Groupe</a></th></tr></thead><tbody ng-show="contrats"><tr ng-repeat="contrat in contrats | orderBy:contractPredicate:contractReverse"><td><div hb-card-view-link="hb-card-view-link" hb-href="/elfin/{{contrat.ID_G}}/CONTRAT/{{contrat.Id}}"></div></td><td><div hb-annexes-link="hb-annexes-link" hb-annexes-link-elfin="contrat"></div></td><td><span>{{contrat.CARACTERISTIQUE.CAR1.UNITE}}</span></td><td><span>{{contrat.CARACTERISTIQUE.CAR1.VALEUR}}</span></td><td><span>{{contrat.PARTENAIRE.FOURNISSEUR.VALUE}}</span></td><td class="number"><span>{{contrat.IDENTIFIANT.VALEUR | currency:'CHF' }}</span></td><td><span>{{contrat.GROUPE}}</span></td></tr></tbody></table></div></div></div></tab><tab select="createNewContract()" ng-show="!createMode"><tab-heading tooltip="Créer un nouveau contrat relatif à l'objet courant" tooltip-popup-delay="1000">Créer un nouveau contrat&nbsp;<i class="glyphicon glyphicon-plus-sign"></i></tab-heading><div class="hb-tab"></div></tab></tabset></div></div></div></tab><!-- CARACTERISTIQUE tab --><tab active="tabState.caracteristique.active"><tab-heading>Caractéristiques</tab-heading><div class="hb-tab"><div class="row"><div class="col-xs-12"><div class="form-group has-feedback" ng-class="getCssHasFeedback(elfinForm.currentFunction)"><label class="col-md-2 control-label" for="currentFunction">Fonction actuelle</label><div class="col-md-10"><input class="form-control" id="currentFunction" name="currentFunction" type="text" ng-model="elfin.CARACTERISTIQUE.CAR2.VALEUR" ng-readonly="!canEdit"/></div></div></div><div class="col-md-6"><div class="form-group has-feedback" ng-class="getCssHasFeedback(elfinForm.constructionYear)"><label class="col-md-4 control-label" for="constructionYear">Année de construction</label><div class="col-md-8"><input class="form-control" id="constructionYear" name="constructionYear" type="text" ng-model="elfin.IDENTIFIANT.DE" ng-readonly="!canEdit" ng-pattern="numericOnlyRegexp" ng-trim="false" ng-maxlength="4"/></div></div></div><div class="col-md-6"><div class="form-group has-feedback" ng-class="getCssHasFeedback(elfinForm.exitYear)"><label class="col-md-4 control-label" for="exitYear">Année de sortie</label><div class="col-md-8"><input class="form-control" id="exitYear" name="exitYear" type="text" ng-model="elfin.IDENTIFIANT.A" ng-readonly="!canEdit" ng-pattern="numericOnlyRegexp" ng-trim="false" ng-maxlength="4"/></div></div></div><div class="col-md-6"><div class="form-group has-feedback" ng-class="getCssHasFeedback(elfinForm.censusNote)"><label class="col-md-4 control-label" for="censusNote">Note de recensement</label><div class="col-md-8"><input class="form-control" id="censusNote" name="censusNote" type="text" ng-model="elfin.CARACTERISTIQUE.CAR3.VALEUR" ng-readonly="!canEdit"/></div></div></div><div class="col-md-6"><div class="form-group has-feedback" ng-class="getCssHasFeedback(elfinForm.exitReason)"><label class="col-md-4 control-label" for="exitReason">Cause de sortie</label><div class="col-md-8"><input class="form-control" id="exitReason" name="exitReason" type="text" ng-model="elfin.IDENTIFIANT.QUALITE" ng-readonly="!canEdit"/></div></div></div><div class="col-md-6"><div class="form-group has-feedback" ng-class="getCssHasFeedback(elfinForm.housingNb)"><label class="col-md-4 control-label" for="housingNb">Nombre de logements</label><div class="col-md-8"><input class="form-control" id="housingNb" name="housingNb" type="text" ng-model="elfin.CARACTERISTIQUE.CAR6.VALEUR" ng-readonly="!canEdit"/></div></div></div><div class="col-md-6"><div class="form-group has-feedback" ng-class="getCssHasFeedback(elfinForm.classroomNb)"><label class="col-md-4 control-label" for="classroomNb">Nombre de classes</label><div class="col-md-8"><input class="form-control" id="classroomNb" name="classroomNb" type="text" ng-model="CARSET_CAR_POS_9.VALEUR" ng-readonly="!canEdit"/></div></div></div><div class="col-md-6"><div class="form-group has-feedback" ng-class="getCssHasFeedback(elfinForm.workplaceNb)"><label class="col-md-4 control-label" for="workplaceNb">Nombre de places de travail</label><div class="col-md-8"><input class="form-control" id="workplaceNb" name="workplaceNb" type="text" ng-model="CARSET_CAR_POS_10.VALEUR" ng-readonly="!canEdit"/></div></div></div></div></div></tab><!-- VALEUR tab --><tab active="tabState.valeur.active"><tab-heading>Valeur ECAP</tab-heading><div class="hb-tab"><div class="row"><div class="col-sm-12"><!-- Table des contrats ECAP actifs --><table class="table table-condensed table-bordered table-striped"><thead><tr><th colspan="2">Contrat</th><th><a href="" ng-click="contractPredicate = 'CARACTERISTIQUE.CAR1.UNITE'; contractReverse=!contractReverse">Prestation I</a></th><th><a href="" ng-click="contractPredicate = 'CARACTERISTIQUE.CAR1.VALEUR'; contractReverse=!contractReverse">Prestation II</a></th><th><a href="" ng-click="contractPredicate = 'PARTENAIRE.FOURNISSEUR.VALUE'; contractReverse=!contractReverse">Entreprise</a></th><th><a href="" ng-click="contractPredicate = 'IDENTIFIANT.VALEUR'; contractReverse=!contractReverse">Montant</a></th><th><a href="" ng-click="contractPredicate = 'GROUPE'; contractReverse=!contractReverse">Groupe</a></th></tr></thead><tbody ng-show="contrats"><tr ng-repeat="contrat in contrats | contractPerCompanyGroupListFilter:'ECAP' | contractTerminatedListFilter:false | orderBy:contractPredicate:contractReverse"><td><div hb-card-view-link="hb-card-view-link" hb-href="/elfin/{{contrat.ID_G}}/CONTRAT/{{contrat.Id}}"></div></td><td><div hb-annexes-link="hb-annexes-link" hb-annexes-link-elfin="contrat"></div></td><td><span>{{contrat.CARACTERISTIQUE.CAR1.UNITE}}</span></td><td><span>{{contrat.CARACTERISTIQUE.CAR1.VALEUR}}</span></td><td><span>{{contrat.PARTENAIRE.FOURNISSEUR.VALUE}}</span></td><td class="number"><span>{{contrat.IDENTIFIANT.VALEUR | currency:'CHF' }}</span></td><td><span>{{contrat.GROUPE}}</span></td></tr></tbody></table></div><div class="col-md-6"><div class="form-group has-feedback" ng-class="getCssHasFeedback(elfinForm.ecapValue)"><label class="col-md-4 control-label" for="ecapValue">Valeur ECAP</label><div class="col-md-8"><input class="form-control" id="ecapValue" name="ecapValue" type="text" ng-model="CARSET_CAR_POS_5.VALEUR" ng-if="canEdit" format-currency="format-currency"/><input class="form-control" id="ecapValueView" name="ecapValueView" type="text" value="{{ CARSET_CAR_POS_5.VALEUR | currency:'CHF' }}" ng-if="!canEdit" readonly="readonly"/></div></div></div><div class="col-md-6"><div class="form-group has-feedback" ng-class="getCssHasFeedback(elfinForm.ecapEstimYear)"><label class="col-md-4 control-label" for="ecapEstimYear">Année estimation ECAP</label><div class="col-md-8"><input class="form-control" id="ecapEstimYear" name="ecapEstimYear" type="text" ng-model="CARSET_CAR_POS_6.VALEUR" ng-readonly="!canEdit" ng-pattern="numericOnlyRegexp" ng-trim="false" ng-maxlength="4"/></div></div></div><div class="col-md-6"><div class="form-group has-feedback" ng-class="getCssHasFeedback(elfinForm.cadastralValue)"><label class="col-md-4 control-label" for="cadastralValue">Valeur cadastrale</label><div class="col-md-8"><input class="form-control" id="cadastralValue" name="cadastralValue" type="text" ng-model="CARSET_CAR_POS_7.VALEUR" ng-if="canEdit" format-currency="format-currency"/><input class="form-control" id="cadastralValueView" name="cadastralValueView" type="text" value="{{ CARSET_CAR_POS_7.VALEUR | currency:'CHF' }}" ng-if="!canEdit" readonly="readonly"/></div></div></div><div class="col-md-6"><div class="form-group has-feedback" ng-class="getCssHasFeedback(elfinForm.cadastralEvaluationYear)"><label class="col-md-4 control-label" for="cadastralEvaluationYear">Année estimation cadastrale</label><div class="col-md-8"><input class="form-control" id="cadastralEvaluationYear" name="cadastralEvaluationYear" type="text" ng-model="CARSET_CAR_POS_8.VALEUR" ng-readonly="!canEdit" ng-pattern="numericOnlyRegexp" ng-trim="false" ng-maxlength="4"/></div></div></div><div class="col-md-6"><div class="form-group has-feedback" ng-class="getCssHasFeedback(elfinForm.ecapVolume)"><label class="col-md-4 control-label" for="ecapVolume">Volume ECAP</label><div class="col-md-8"><input class="form-control" id="ecapVolume" name="ecapVolume" type="text" ng-model="elfin.CARACTERISTIQUE.CAR5.VALEUR" ng-readonly="!canEdit" ng-pattern="numericOnlyRegexp" ng-trim="false" ng-maxlength="12"/></div></div></div><div class="col-md-6"><div class="form-group has-feedback" ng-class="getCssHasFeedback(elfinForm.ecapFee)"><label class="col-md-4 control-label" for="ecapFee">Prime ECAP TTC</label><div class="col-md-8"><input class="form-control" id="ecapFee" name="ecapFee" type="text" ng-model="CARSET_CAR_POS_11.VALEUR" ng-if="canEdit" format-currency="format-currency" ng-pattern="numericOnlyRegexp" ng-trim="false" ng-maxlength="12"/><input class="form-control" id="ecapFeeView" name="ecapFeeView" type="text" value="{{ CARSET_CAR_POS_11.VALEUR | currency:'CHF' }}" ng-if="!canEdit" readonly="readonly"/></div></div></div><div class="col-md-6"><div class="form-group has-feedback" ng-class="getCssHasFeedback(elfinForm.ecapVolumePrice)"><label class="col-md-4 control-label" for="ecapVolumePrice">Prix au m³</label><div class="col-md-8"><input class="form-control" id="ecapVolumePrice" name="ecapVolumePrice" type="text" ng-model="CARSET_CAR_POS_12.VALEUR" ng-if="canEdit" format-currency="format-currency" ng-pattern="numericOnlyRegexp" ng-trim="false" ng-maxlength="12"/><input class="form-control" id="ecapVolumePriceView" name="ecapVolumePriceView" type="text" value="{{ CARSET_CAR_POS_12.VALEUR | currency:'CHF' }}" ng-if="!canEdit" readonly="readonly"/></div></div></div><div class="col-md-6"><div class="form-group has-feedback" ng-class="getCssHasFeedback(elfinForm.ecapSelfInsuranceFnd)"><label class="col-md-4 control-label" for="ecapSelfInsuranceFnd">Fond auto-assurance</label><div class="col-md-8"><input class="form-control" id="ecapSelfInsuranceFnd" name="ecapSelfInsuranceFnd" type="text" ng-model="CARSET_CAR_POS_13.VALEUR" ng-if="canEdit" format-currency="format-currency" ng-pattern="numericOnlyRegexp" ng-trim="false" ng-maxlength="12"/><input class="form-control" id="ecapSelfInsuranceFndView" name="ecapSelfInsuranceFndView" type="text" value="{{ CARSET_CAR_POS_13.VALEUR | currency:'CHF' }}" ng-if="!canEdit" readonly="readonly"/></div></div></div><div class="col-md-6"><div class="form-group has-feedback" ng-class="getCssHasFeedback(elfinForm.author)"><label class="col-md-4 control-label" for="author_3">No ECAP</label><div class="col-md-8"><input class="form-control" id="author_3" name="author_3" type="text" ng-model="CARSET_CAR_POS_3.VALEUR" ng-readonly="!canEdit" required="required"/></div></div></div><div class="col-md-6"><div class="form-group has-feedback" ng-class="getCssHasFeedback(elfinForm.ecapBuildingNb)"><label class="col-md-4 control-label" for="ecapBuildingNb">Bâtiment assuré no</label><div class="col-md-8"><input class="form-control" id="ecapBuildingNb" name="ecapBuildingNb" type="text" ng-model="CARSET_CAR_POS_14.VALEUR" ng-readonly="!canEdit"/></div></div></div><div class="col-md-6"><div class="form-group has-feedback" ng-class="getCssHasFeedback(elfinForm.ecapObject)"><label class="col-md-4 control-label" for="ecapObject">Objet assuré</label><div class="col-md-8"><input class="form-control" id="ecapObject" name="ecapObject" type="text" ng-model="CARSET_CAR_POS_15.VALEUR" ng-readonly="!canEdit"/></div></div></div><div class="col-md-6"><div class="form-group has-feedback" ng-class="getCssHasFeedback(elfinForm.ecapConstructionRisk)"><label class="col-md-4 control-label" for="ecapConstructionRisk">Classe risque construction</label><div class="col-md-8"><input class="form-control" id="ecapConstructionRisk" name="ecapConstructionRisk" type="text" ng-model="CARSET_CAR_POS_16.VALEUR" ng-readonly="!canEdit"/></div></div></div><div class="col-md-6"><div class="form-group has-feedback" ng-class="getCssHasFeedback(elfinForm.ecapUsageRisk)"><label class="col-md-4 control-label" for="ecapUsageRisk">Classe risque usage</label><div class="col-md-8"><input class="form-control" id="ecapUsageRisk" name="ecapUsageRisk" type="text" ng-model="CARSET_CAR_POS_17.VALEUR" ng-readonly="!canEdit"/></div></div></div><div class="col-md-6"><div class="form-group has-feedback" ng-class="getCssHasFeedback(elfinForm.ecapLightningRod)"><label class="col-md-4 control-label" for="ecapLightningRod">Paratonnerre</label><div class="col-md-8"><input class="form-control" id="ecapLightningRod" name="ecapLightningRod" type="text" ng-model="CARSET_CAR_POS_18.VALEUR" ng-readonly="!canEdit"/></div></div></div><div class="col-md-6"><div class="form-group has-feedback" ng-class="getCssHasFeedback(elfinForm.ecapFireDetection)"><label class="col-md-4 control-label" for="ecapFireDetection">Détection incendie</label><div class="col-md-8"><input class="form-control" id="ecapFireDetection" name="ecapFireDetection" type="text" ng-model="CARSET_CAR_POS_19.VALEUR" ng-readonly="!canEdit"/></div></div></div><div class="col-md-6"><div class="form-group has-feedback" ng-class="getCssHasFeedback(elfinForm.ecapPeculiarities)"><label class="col-md-4 control-label" for="ecapPeculiarities">Particularités</label><div class="col-md-8"><input class="form-control" id="ecapPeculiarities" name="ecapPeculiarities" type="text" ng-model="CARSET_CAR_POS_20.VALEUR" ng-readonly="!canEdit"/></div></div></div></div></div></tab><!-- EQUIPEMENT technique tab --><tab active="tabState.equipements_tech.active"><tab-heading>Equipement{{equipementsCount | plural}} technique{{equipementsCount | plural}} ({{equipementsCount}})</tab-heading><div class="hb-tab"><div class="row"><div class="col-sm-12"><!-- Table des PRODUCTION_CHALEUR --><table class="table table-condensed table-bordered table-striped"><thead><tr><th colspan="8"><a class="btn btn-default" type="button" tooltip="Créer une nouvelle PRODUCTION_CHALEUR relative à l'objet courant" tooltip-popup-delay="1000" ng-click="createNewProductionChaleur()"><i class="glyphicon glyphicon-plus-sign"></i></a>&nbsp;Production Chaleur</th></tr><tr><th width="10%" colspan="2">Détail</th><th width="15%">Groupe</th><th width="15%">Modèle</th><th width="10%">Date de fabrication</th><th width="10%">Puissance (kW)</th><th width="10%">Energie</th><th>Fournisseur</th></tr></thead><tbody ng-show="productionChaleurList"><tr ng-repeat="productionChaleur in productionChaleurList | orderBy:['IDENTIFIANT.ORIGINE.VALUE','GROUPE']"><td><div hb-card-view-link="hb-card-view-link" hb-href="/elfin/{{productionChaleur.ID_G}}/PRODUCTION_CHALEUR/{{productionChaleur.Id}}"></div></td><td><div hb-annexes-link="hb-annexes-link" hb-annexes-link-elfin="productionChaleur"></div></td><td><span>{{productionChaleur.GROUPE}}</span></td><td><span>{{productionChaleur.CARACTERISTIQUE.CAR2.VALEUR}}</span></td><td><span>{{productionChaleur.IDENTIFIANT.DE}}</span></td><td><span>{{productionChaleur.CARACTERISTIQUE.CAR1.VALEUR}}</span></td><td><span>{{productionChaleur.CARACTERISTIQUE.CAR3.VALEUR}}</span></td><td><span>{{productionChaleur.PARTENAIRE.FOURNISSEUR.VALUE}}</span></td></tr></tbody></table></div></div><div class="row"><div class="col-sm-12"><!-- Table des PRODUCTION_FROID --><table class="table table-condensed table-bordered table-striped"><thead><tr><th colspan="8"><a class="btn btn-default" type="button" tooltip="Créer une nouvelle PRODUCTION_FROID relative à l'objet courant" tooltip-popup-delay="1000" ng-click="createNewProductionFroid()"><i class="glyphicon glyphicon-plus-sign"></i></a>&nbsp;Production Froid</th></tr><tr><th width="10%" colspan="2">Détail</th><th width="15%">Groupe</th><th width="15%">Modèle</th><th width="10%">Année</th><th width="10%">Puissance (kW)</th><th width="10%">Energie</th><th>Fournisseur</th></tr></thead><tbody ng-show="productionFroidList"><tr ng-repeat="productionFroid in productionFroidList | orderBy:['IDENTIFIANT.ORIGINE.VALUE','GROUPE']"><td><div hb-card-view-link="hb-card-view-link" hb-href="/elfin/{{productionFroid.ID_G}}/PRODUCTION_FROID/{{productionFroid.Id}}"></div></td><td><div hb-annexes-link="hb-annexes-link" hb-annexes-link-elfin="productionFroid"></div></td><td><span>{{productionFroid.GROUPE}}</span></td><td><span>{{productionFroid.CARACTERISTIQUE.CAR2.VALEUR}}</span></td><td><span>{{productionFroid.IDENTIFIANT.DE}}</span></td><td><span>{{productionFroid.CARACTERISTIQUE.CAR1.VALEUR}}</span></td><td><span>{{productionFroid.CARACTERISTIQUE.CAR3.VALEUR}}</span></td><td><span>{{productionFroid.PARTENAIRE.FOURNISSEUR.VALUE}}</span></td></tr></tbody></table></div></div><div class="row"><div class="col-sm-12"><!-- Table des VENTILATION --><table class="table table-condensed table-bordered table-striped"><thead><tr><th colspan="8"><a class="btn btn-default" type="button" tooltip="Créer une nouvelle VEMTILATION relative à l'objet courant" tooltip-popup-delay="1000" ng-click="createNewVentilation()"><i class="glyphicon glyphicon-plus-sign"></i></a>&nbsp;Ventilation</th></tr><tr><th width="10%" colspan="2">Détail</th><th width="15%">Groupe</th><th width="15%">Modèle</th><th width="10%">Année</th><th width="10%">Débit (m3/h)</th><th width="10%">Mode</th><th>Fournisseur</th></tr></thead><tbody ng-show="ventilationList"><tr ng-repeat="ventilation in ventilationList | orderBy:['IDENTIFIANT.ORIGINE.VALUE','GROUPE']"><td><div hb-card-view-link="hb-card-view-link" hb-href="/elfin/{{ventilation.ID_G}}/VENTILATION/{{ventilation.Id}}"></div></td><td><div hb-annexes-link="hb-annexes-link" hb-annexes-link-elfin="ventilation"></div></td><td><span>{{ventilation.GROUPE}}</span></td><td><span>{{ventilation.CARACTERISTIQUE.CAR2.VALEUR}}</span></td><td><span>{{ventilation.IDENTIFIANT.DE}}</span></td><td><span>{{ventilation.CARACTERISTIQUE.CAR1.VALEUR}}</span></td><td><span>{{ventilation.CARACTERISTIQUE.CAR3.VALEUR}}</span></td><td><span>{{ventilation.PARTENAIRE.FOURNISSEUR.VALUE}}</span></td></tr></tbody></table></div></div><div class="row"><div class="col-sm-12"><!-- Table des CITERNE --><table class="table table-condensed table-bordered table-striped"><thead><tr><th colspan="8"><a class="btn btn-default" type="button" tooltip="Créer une nouvelle CITERNE relative à l'objet courant" tooltip-popup-delay="1000" ng-click="createNewCiterne()"><i class="glyphicon glyphicon-plus-sign"></i></a>&nbsp;Citerne</th></tr><tr><th width="10%" colspan="2">Détail</th><th width="15%">Groupe</th><th width="15%">Modèle</th><th width="10%">Année</th><th width="10%">Volume (l)</th><th width="10%">Produit</th><th>Fournisseur</th></tr></thead><tbody ng-show="citerneList"><tr ng-repeat="citerne in citerneList | orderBy:['IDENTIFIANT.ORIGINE.VALUE','GROUPE']"><td><div hb-card-view-link="hb-card-view-link" hb-href="/elfin/{{citerne.ID_G}}/CITERNE/{{citerne.Id}}"></div></td><td><div hb-annexes-link="hb-annexes-link" hb-annexes-link-elfin="citerne"></div></td><td><span>{{citerne.GROUPE}}</span></td><td><span>{{citerne.CARACTERISTIQUE.CAR2.VALEUR}}</span></td><td><span>{{citerne.IDENTIFIANT.DE}}</span></td><td><span>{{citerne.CARACTERISTIQUE.CAR1.VALEUR}}</span></td><td><span>{{citerne.CARACTERISTIQUE.CAR3.VALEUR}}</span></td><td><span>{{citerne.PARTENAIRE.FOURNISSEUR.VALUE}}</span></td></tr></tbody></table></div></div></div></tab><!-- FORME tab --><tab active="tabState.forme.active" select="eagerDomCreation.FORM = true"><tab-heading>Forme</tab-heading><div class="hb-tab"><div hb-forme-component="hb-forme-component"></div></div></tab><!-- Annexes tab --><tab active="tabState.annexe.active"><tab-heading><div hb-annexes-number="hb-annexes-number"></div></tab-heading><div class="hb-tab"><div hb-annexes-component="hb-annexes-component"></div></div></tab></tabset></div></div>