<div hb-card-header>
	<!-- Custom validation message to be defined here -->
	<span ng-show="elfinForm.goal.$error.required">Le champs <strong>Numéro
			de gérance</strong> est obligatoire!
	</span> <span ng-show="elfinForm.author.$error.required">Le champs <strong>Numéro
			ECAP</strong> est obligatoire!
	</span> <span ng-show="elfinForm.name.$error.required">Le champs <strong>N°
			de construction</strong> est obligatoire!
	</span> <span ng-show="elfinForm.address.$error.required">Le champs <strong>Adresse</strong>
		est obligatoire!
	</span> <span ng-show="elfinForm.cadastralNb.$error.required">Le champs
		<strong>Numéro cadastral</strong> est obligatoire!
	</span> <span ng-show="elfinForm.manager.$error.required">Le champs <strong>Propriétaire</strong>
		est obligatoire!
	</span> <span ng-show="elfinForm.managerName.$error.required">Le champs
		<strong>Nom du propriétaire</strong> est obligatoire!
	</span> <span ng-show="elfinForm.alias.$error.required">Le champs <strong>Architecte</strong>
		est obligatoire!
	</span>
</div>
<div class="row" style="padding-top: 8px;">
	<div class="col-xs-12">
		<tabset> <!-- IMMEUBLE tab --> <tab> <tab-heading>Immeuble</tab-heading>
		<div class="hb-tab">

			<div class="row">
				<div class="col-sm-6">
					<div class="form-group has-feedback"
						ng-class="getCssHasFeedback(elfinForm.goal)">
						<label for="goal" class="col-sm-4 control-label">Numéro de
							gérance</label>
						<div class="col-sm-8">
							<input id="goal" name="goal" type="text" class="form-control"
								ng-model="elfin.IDENTIFIANT.OBJECTIF"
								tooltip="elfin.IDENTIFIANT.OBJECTIF" required>
						</div>
					</div>
				</div>
				<div class="col-sm-6">
					<div class="form-group has-feedback"
						ng-class="getCssHasFeedback(elfinForm.author)">
						<label for="author" class="col-sm-4 control-label">Numéro
							ECAP</label>
						<div class="col-sm-8">
							<input id="author" name="author" type="text" class="form-control"
								ng-model="elfin.CARACTERISTIQUE.CARSET.CAR[2].VALEUR"
								tooltip="elfin.CARACTERISTIQUE.CARSET.CAR[2].VALEUR" required>
						</div>
					</div>
				</div>
			</div>

			<div class="row">
				<div class="col-sm-6">
					<div class="form-group has-feedback"
						ng-class="getCssHasFeedback(elfinForm.name)">
						<label for="name" class="col-sm-4 control-label">N° de
							construction</label>
						<div class="col-sm-8">
							<input id="name" name="name" type="text" class="form-control"
								ng-model="elfin.IDENTIFIANT.NOM" tooltip="elfin.IDENTIFIANT.NOM"
								required>
						</div>
					</div>
				</div>
				<div class="col-sm-6">
					<div class="form-group has-feedback"
						ng-class="getCssHasFeedback(elfinForm.address)">
						<label for="address" class="col-sm-4 control-label">Adresse</label>
						<div class="col-sm-8">
							<input id="address" name="address" type="text"
								class="form-control" ng-model="elfin.IDENTIFIANT.ALIAS"
								tooltip="elfin.IDENTIFIANT.ALIAS" required>
						</div>
					</div>
				</div>
			</div>

			<div class="row">
				<div class="col-sm-12">
					<div class="form-group has-feedback"
						ng-class="getCssHasFeedback(elfinForm.cadastralNb)">
						<label for="cadastralNb" class="col-sm-2 control-label">Numéro
							cadastral</label>
						<div class="col-sm-4">
							<input id="cadastralNb" name="cadastralNb" type="text"
								class="form-control"
								ng-model="elfin.CARACTERISTIQUE.CAR4.VALEUR"
								tooltip="elfin.CARACTERISTIQUE.CAR4.VALEUR" required>
						</div>
					</div>
				</div>
			</div>

			<div class="row">
				<div class="col-sm-6">
					<div class="form-group has-feedback"
						ng-class="getCssHasFeedback(elfinForm.manager)">
						<label for="manager" class="col-sm-4 control-label">Propriétaire</label>
						<div class="col-sm-8">
							<div class="input-group">
								<input id="manager" name="manager" type="text"
									class="form-control"
									ng-model="elfin.PARTENAIRE.PROPRIETAIRE.VALUE"
									tooltip="elfin.PARTENAIRE.PROPRIETAIRE.VALUE" required>
								<span class="input-group-btn">
									<button class="btn btn-default" type="button"
										ng-click="choosePopup(elfin, elfin.CLASSE, elfin.PARTENAIRE.PROPRIETAIRE)">Choix</button>
								</span>
							</div>
						</div>
					</div>
				</div>
				<div class="col-sm-6">
					<div class="form-group has-feedback"
						ng-class="getCssHasFeedback(elfinForm.managerName)">
						<label for="managerName" class="col-sm-4 control-label">Nom
							du propriétaire</label>
						<div class="col-sm-8">
							<div class="input-group">
								<input id="managerName" name="managerName" type="text"
									class="form-control"
									ng-model="elfin.PARTENAIRE.PROPRIETAIRE.NOM"
									tooltip="elfin.PARTENAIRE.PROPRIETAIRE.NOM" required> <span
									class="input-group-btn">
									<button class="btn btn-default" type="button"
										ng-click="choosePopup(elfin, elfin.CLASSE, elfin.PARTENAIRE.PROPRIETAIRE.NOM)">Choix</button>
								</span>
							</div>
						</div>
					</div>
				</div>
			</div>

			<div class="row">
				<div class="col-sm-12">
					<div class="form-group has-feedback"
						ng-class="getCssHasFeedback(elfinForm.alias)">
						<label for="alias" class="col-sm-2 control-label">Architecte</label>
						<div class="col-sm-4">
							<input id="alias" name="alias" type="text" class="form-control"
								ng-model="elfin.PARTENAIRE.FOURNISSEUR.VALUE"
								tooltip="elfin.PARTENAIRE.FOURNISSEUR.VALUE" required>
						</div>
					</div>
				</div>
			</div>

			<div class="row">
				<div class="col-sm-12">
					<div class="form-group has-feedback"
						ng-class="getCssHasFeedback(elfinForm.locality)">
						<label for="locality" class="col-sm-2 control-label">Lieu-dit</label>
						<div class="col-sm-10">
							<input id="locality" name="locality" type="text"
								class="form-control"
								ng-model="elfin.CARACTERISTIQUE.CARSET.CAR[0].VALEUR"
								tooltip="elfin.CARACTERISTIQUE.CARSET.CAR[0].VALEUR">
						</div>
					</div>
				</div>
				<div class="col-sm-12">
					<div class="form-group has-feedback"
						ng-class="getCssHasFeedback(elfinForm.remark)">
						<label for="remark" class="col-sm-2 control-label">Remarque</label>
						<div class="col-sm-10">
							<input id="remark" name="remark" type="text" class="form-control"
								ng-model="elfin.DIVERS.REMARQUE" tooltip="elfin.DIVERS.REMARQUE">
						</div>
					</div>
				</div>
			</div>

			<div class="row">
				<div class="col-sm-12">
					<table class="table table-condensed table-bordered table-striped">
						<thead>
							<tr>
								<th>
									<div class="input-group">
										<div>Mots clés</div>
										<span class="input-group-btn">
											<button class="btn btn-default" type="button"
												ng-click="addRow(elfin, 'IDENTIFIANT.MOTCLE', { VALUE: '' })">
												<i class="icon-plus-sign"></i> Nouveau
											</button>
										</span>
									</div>
								</th>
							</tr>
						</thead>
						<tbody ng-show="elfin.IDENTIFIANT.MOTCLE.length > 0">
							<tr ng-repeat="motcle in elfin.IDENTIFIANT.MOTCLE">
								<td>
									<div class="input-group">
										<input type="text" name="keyword{$index}" class="form-control"
											ng-model="motcle.VALUE" tooltip="elfin.IDENTIFIANT.MOTCLE"
											placeholder="Saisissez un nouveau mot clé"> <span
											class="input-group-btn">
											<button class="btn btn-default"
												ng-click="removeKeyword($index)">
												<i class="icon-remove-sign"></i> Supprimer
											</button>
										</span>
									</div>
								</td>
							</tr>
						</tbody>
					</table>
				</div>
			</div>

			<div class="row">
				<div ng-show="constats" class="col-sm-12">
					<table class="table table-condensed table-bordered table-striped">
						<thead>
							<tr>
								<th colspan="2">
									<div class="input-group">

										<div>Constats en cours</div>
									</div>
								</th>
								<!--  <th colspan="3">
									<div class="input-group">
										<div>Constats réglés</div>
										<i class="icon-list-alt">
									</div>
								</th>-->
								<th colspan="1">
									<div class="input-group">

										<span class="input-group-btn"
											tooltip="Créer un nouveau constat relatif à l'objet courant">
											<a class="btn btn-default" type="button"
											ng-href="/elfin/create/CONSTAT?nocons={{elfin.IDENTIFIANT.NOM}}&sai={{elfin.IDENTIFIANT.OBJECTIF}}">
												<i class="icon-plus-sign"></i> Nouveau constat
										</a>
										</span>

									</div>
								</th>
								<th colspan="3">
									<div class="input-group">

										<span class="input-group-btn"
											tooltip="Créer la liste des constats relatifs à l'objet courant (no SAI, No Construction, Propriétaire) réglés (elfin.IDENTIFIANT.A != '')">
											<a class="btn btn-default" type="button"
											ng-href="">
												<i class="icon-list-alt"></i> Constats réglés
												
										</a>
										</span>

									</div>
								</th>
								
							</tr>
							<tr>
								<th>Constat</th>
								<th>Date</th>
								<th colspan="2">Nom</th>
							</tr>
						</thead>
						<tbody>
							<tr ng-repeat="constat in constats | orderBy:'IDENTIFIANT.DE':true">
								<td><a
									href="/elfin/{{constat.ID_G}}/CONSTAT/{{constat.Id}}">Détail</a></td>
								<td><span tooltip="constat.IDENTIFIANT.DE">{{constat.IDENTIFIANT.DE}}</span></td>
								<td colspan="2"><span tooltip="constat.IDENTIFIANT.NOM">{{constat.IDENTIFIANT.NOM}}</span></td>
							</tr>
						</tbody>
					</table>
				</div>
			</div>
		</div>
		</tab> <!-- SURFACE tab --> 
		<tab> <tab-heading>Unités locatives ({{surfaces.length}})</tab-heading>
<div class="row">
				<div ng-show="surfaces" class="col-sm-12">
					<table class="table table-condensed table-bordered table-striped">
						<thead>
							<tr>
								<th colspan="2">
									<div class="input-group">

										<div>Unités locatives</div>
									</div>
								</th>
								
								<th colspan="3">
									<div class="input-group">

										<span class="input-group-btn"
											tooltip="Créer une nouvelle unité locative relative à l'objet courant">
											<a class="btn btn-default" type="button"
											ng-href="/elfin/create/SURFACE?nocons={{elfin.IDENTIFIANT.NOM}}&sai={{elfin.IDENTIFIANT.OBJECTIF}}">
											<!-- ng-href="/elfin/create/SURFACE?nocons={{elfin.IDENTIFIANT.NOM}}&sai={{elfin.IDENTIFIANT.OBJECTIF}}&nomProprio={{elfin.PARTENAIRE.PROPRIETAIRE.NOM}}&textProprio={{elfin.PARTENAIRE.PROPRIETAIRE}}"> -->
												<i class="icon-plus-sign"></i> Nouvelle unité locative
										</a>
										</span>

									</div>
								</th>
								<th colspan="3">
									<div class="input-group">

										
									</div>
								</th>
								
							</tr>
							<tr>
								<th>Unité {{surfaces.length}}</th>
								<th><a href="" ng-click="deadlinePredicate = 'IDENTIFIANT.OBJECTIF'; deadlineReverse=!deadlineReverse">No SAI</a></th>
								<th><a href="" ng-click="deadlinePredicate = 'IDENTIFIANT.DE'; deadlineReverse=!deadlineReverse">Année</a></th>
								<th><a href="" ng-click="deadlinePredicate = 'GROUPE'; deadlineReverse=!deadlineReverse">Groupe</a></th>
								<th><a href="" ng-click="deadlinePredicate = 'IDENTIFIANT.ALIAS'; deadlineReverse=!deadlineReverse">Dénomination</a></th>
								<th><a href="" ng-click="deadlinePredicate = 'DIVERS.REMARQUE'; deadlineReverse=!deadlineReverse">Remarque</a></th>
							</tr>
						</thead>
						<tbody>
							<tr ng-repeat="surface in surfaces | orderBy:deadlinePredicate:deadlineReverse">
								<td><a
									href="/elfin/{{surface.ID_G}}/SURFACE/{{surface.Id}}">Détail</a></td>
								<td><span tooltip="surface.IDENTIFIANT.OBJECTIF">{{surface.IDENTIFIANT.OBJECTIF}}</span></td>
								<td><span tooltip="surface.IDENTIFIANT.DE">{{surface.IDENTIFIANT.DE}}</span></td>
								<td><span tooltip="surface.GROUPE">{{surface.GROUPE}}</span></td>
								<td><span tooltip="surface.IDENTIFIANT.ALIAS">{{surface.IDENTIFIANT.ALIAS}}</span></td>
								<td><span tooltip="surface.DIVERS.REMARQUE">{{surface.DIVERS.REMARQUE}}</span></td>
							</tr>
						</tbody>
					</table>
				</div>
			</div>	
			</tab> <!-- PRESTATION tab --> <tab> <tab-heading>Prestations({{prestations.length}})</tab-heading>
		<div class="row">
				<div ng-show="prestations" class="col-sm-12">
					<table class="table table-condensed table-bordered table-striped">
						<thead>
							<tr>
								<th colspan="2">
									<div class="input-group">

										<div>Prestations en cours</div>
									</div>
								</th>
								
								<th colspan="3">
									<div class="input-group">

										<span class="input-group-btn"
											tooltip="Créer un nouveau constat relatif à l'objet courant">
											<a class="btn btn-default" type="button"
											ng-href="/elfin/create/PRESTATION?nocons={{elfin.IDENTIFIANT.NOM}}&sai={{elfin.IDENTIFIANT.OBJECTIF}}">
												<i class="icon-plus-sign"></i> Nouvelle prestation
										</a>
										</span>

									</div>
								</th>
								<th colspan="3">
									<div class="input-group">

										
									</div>
								</th>
								
							</tr>
							<tr>
								<th>Prestation</th>
								<th><a href="" ng-click="deadlinePredicate = 'IDENTIFIANT.OBJECTIF'; deadlineReverse=!deadlineReverse">No SAI</a></th>
								<th><a href="" ng-click="deadlinePredicate = 'IDENTIFIANT.DE'; deadlineReverse=!deadlineReverse">Année</a></th>
								<th><a href="" ng-click="deadlinePredicate = 'GROUPE'; deadlineReverse=!deadlineReverse">Groupe</a></th>
								<th><a href="" ng-click="deadlinePredicate = 'IDENTIFIANT.ALIAS'; deadlineReverse=!deadlineReverse">Dénomination</a></th>
								<th><a href="" ng-click="deadlinePredicate = 'DIVERS.REMARQUE'; deadlineReverse=!deadlineReverse">Remarque</a></th>
							</tr>
						</thead>
						<tbody>
							<tr ng-repeat="prestation in prestations | orderBy:deadlinePredicate:deadlineReverse">
								<td><a
									href="/elfin/{{prestation.ID_G}}/PRESTATION/{{prestation.Id}}">Détail</a></td>
								<td><span tooltip="prestation.IDENTIFIANT.OBJECTIF">{{prestation.IDENTIFIANT.OBJECTIF}}</span></td>
								<td><span tooltip="prestation.IDENTIFIANT.DE">{{prestation.IDENTIFIANT.DE}}</span></td>
								<td><span tooltip="prestation.GROUPE">{{prestation.GROUPE}}</span></td>
								<td><span tooltip="prestation.IDENTIFIANT.ALIAS">{{prestation.IDENTIFIANT.ALIAS}}</span></td>
								<td><span tooltip="prestation.DIVERS.REMARQUE">{{prestation.DIVERS.REMARQUE}}</span></td>
							</tr>
						</tbody>
					</table>
				</div>
			</div>
		</tab> <!-- CONTRAT tab --> <tab> <tab-heading>Contrats ({{contrats.length}})</tab-heading>
		<div class="row">
				<div ng-show="contrats" class="col-sm-12">
					<table class="table table-condensed table-bordered table-striped">
						<thead>
							<tr>
								<th colspan="2">
									<div class="input-group">

										<div>Contrats</div>
									</div>
								</th>
								
								<th colspan="3">
									<div class="input-group">

										<span class="input-group-btn"
											tooltip="Créer un nouveau constat relatif à l'objet courant">
											<a class="btn btn-default" type="button"
											ng-href="/elfin/create/CONTRAT?sai={{elfin.IDENTIFIANT.OBJECTIF}}">
												<i class="icon-plus-sign"></i> Nouveau contrat
										</a>
										</span>

									</div>
								</th>
								<th colspan="3">
									<div class="input-group">

										
									</div>
								</th>
								
							</tr>
							<tr>
								<th>Contrat</th>
								<th><a href="" ng-click="deadlinePredicate = 'CARACTERISTIQUE.CAR1.UNITE'; deadlineReverse=!deadlineReverse">Presttation I</a></th>
								<th><a href="" ng-click="deadlinePredicate = 'CARACTERISTIQUE.CAR1.VALEUR'; deadlineReverse=!deadlineReverse">Prestation II</a></th>
								<th><a href="" ng-click="deadlinePredicate = 'PARTENAIRE.FOURNISSEUR.VALUE'; deadlineReverse=!deadlineReverse">Entreprise</a></th>
								<th><a href="" ng-click="deadlinePredicate = 'IDENTIFIANT.VALEUR'; deadlineReverse=!deadlineReverse">Montant</a></th>
							</tr>
						</thead>
						<tbody>
							<tr ng-repeat="contrat in contrats | orderBy:deadlinePredicate:deadlineReverse">
								<td><a
									href="/elfin/{{contrat.ID_G}}/CONTRT/{{contrat.Id}}">Détail</a></td>
								<td><span tooltip="contrat.CARACTERISTIQUE.CAR1.UNITE">{{contrat.CARACTERISTIQUE.CAR1.UNITE}}</span></td>
								<td><span tooltip="contrat.CARACTERISTIQUE.CAR1.VALEUR">{{contrat.CARACTERISTIQUE.CAR1.VALEUR}}</span></td>
								<td><span tooltip="contrat.PARTENAIRE.FOURNISSEUR.VALUE">{{contrat.PARTENAIRE.FOURNISSEUR.VALUE}}</span></td>
								<td><span tooltip="contrat.GROUPE">{{contrat.GROUPE}}</span></td>
							</tr>
						</tbody>
					</table>
				</div>
			</div>
		</tab> <!-- EQUIPEMENT tab --> <tab heading="Equipement"> <tab-heading>Equipement</tab-heading>
		<div class="hb-tab">
			<h5>Centroïdes</h5>
			<table class="table table-condensed table-bordered table-striped">
				<thead>
					<tr>
						<th style="padding-right: 5em;">Type</th>
						<th>Xm</th>
						<th>Ym</th>
						<th>Zm</th>
						<th>Rm</th>
					</tr>
				</thead>
				<tbody>
					<tr ng-repeat="centroide in elfin.GEOSELECTION.CENTROIDE">
						<td><select chosen data-placeholder="Choisir un type"
							class="form-control" ng-model="centroide.TYPE"
							ng-options="value as label for (value, label) in typeTypes">
						</select></td>
						<td><input type="text" class="form-control"
							ng-model="centroide.XM"></td>
						<td><input type="text" class="form-control"
							ng-model="centroide.YM"></td>
						<td><input type="text" class="form-control"
							ng-model="centroide.ZM"></td>
						<td><input type="text" class="form-control"
							ng-model="centroide.RM"></td>
					</tr>
				</tbody>
			</table>
		</div>
		</tab> <!-- FORME tab --> <tab heading="Forme"> <tab-heading>Forme</tab-heading>
		<div class="hb-tab">
			<div hb-forme-component></div>
		</tab> </tabset>
	</div>
</div>
